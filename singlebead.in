## Input file for mesher

# zTop  716
# zTop  723.34 

# zBot  710
# zTop 710.3
#

zBot 0
zTop 2
rCyl     5.02
xCyl     0.0
yCyl     0.0
inlet    2.5
outlet   2.5

# ## Cylinder
# rCyl     5.02
# xCyl     5.0
# yCyl     5.0
# inlet    2.5
# outlet   2.5

## Beads

packing                packing/singlebead.xyzd
nbeads                 1

## Output folder. Always end with '/'. Must exist prior to run.
outpath    output/

rFactor                1.00                  # Modification to       bead  radius
relativeBridgeRadius                  0.3                   # Bridge       diameter to    bead diameter
# bridgeOffsetRatio     0.90                  # Factor to offset bridge position by proportion of radius of bead. 
bridgeTol              0.001                  # Tolerance    to       build bridges
# bridgeTol              -999                  # Tolerance    to       build bridges

# method      n # 1: reduce | 2: enlarge | 3: bridge | 4: cap

# fuseBeadsAndBridges     1
# cutBeadsAndBridges      0
booleanOperation        2
fragment                1 

### To use cap method, relativeBridgeRadius^2 + bridgeOffsetRatio^2 >= 1
### To use bridge method, relativeBridgeRadius^2 + bridgeOffsetRatio^2 <= 1
# 0.2, 0.98
# 0.1, 0.95

## Mesh
lc        0.0020                # Element size
lc_beads  0.0020
dryRun    off                   # Do not Generate Mesh

# dilateFactor                    0.5

# turn on to generate identical meshes at inlet and outlet
# Not implemented!!!
# periodic off  


## GMSH settings
Geometry.OCCParallel            1        # 0: No | 1: Yes
Geometry.ScalingFactor          1
Mesh.ScalingFactor              2
Mesh.Algorithm                  2        # 1: MeshAdapt | 2: Auto | 5: Delaunay | 6: Frontal | 7: BAMG | 8: DelQuad
Mesh.Algorithm3D                1        # 1: Delaunay  | 4: Frontal | 5: Frontal Delaunay | 6: Frontal Hex | 7: MMG3D | 9: RTree | 10: HXT
Mesh.OptimizeNetgen             0 
Mesh.Generate                   3        # 3: Volumes   | 2: Surfaces
Mesh.RefineSteps                10      # Default = 10 

# Geometry.Tolerance             1e-6
# Geometry.ToleranceBoolean      1e-6

Named.interstitialVolume        1
Named.outerSurface              1           # inlet, outlet and wall
Named.beadVolume                1
Named.beadSurface               1

preScalingFactor 0.01
# Mesh.ScalingFactor 100
